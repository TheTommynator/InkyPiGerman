{% extends "plugin.html" %}

{% block content %}
<div class="hw-root">

  {% if title %}
  <div
    id="hw-title"
    style="
      color: {{ title_color }};
      font-size: {{ title_size }}px;
      text-align: center;
      font-weight: 600;
      margin-bottom: 16px;
    "
  >
    {{ title }}
  </div>
  {% endif %}

  <div
    id="hw-text"
    style="
      color: {{ text_color }};
      font-size: {{ font_size }}px;
      text-align: center;
      line-height: 1.2;
    "
  >
    {{ text | safe }}
  </div>

</div>

{% if auto_fit %}
<script>
(function () {
  const textEl = document.getElementById('hw-text');
  let size = {{ font_size }};
  while (
    textEl.scrollHeight > textEl.parentElement.clientHeight &&
    size > 16
  ) {
    size -= 2;
    textEl.style.fontSize = size + 'px';
  }
})();
</script>
{% endif %}
{% endblock %}